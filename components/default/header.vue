<template>
  <header class="header" :class="{fixed: fixed}">
    <div class="wrapper">
      <div class="header__content" v-if="!menu.modal">

        <div class="logo" :class="{hiddenCircle: hiddenCircle}">
          <nuxt-link :to="localePath('/')">
            <i>
              <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0)">
                  <path d="M21.8641 1.1787L4.55314 0.0208291C3.98883 -0.0165538 3.49939 0.411356 3.4616 0.975497L3.32619 3.00032H1.02539C0.46002 3.00032 0 3.46034 0 4.02571V28.9554C0 29.5207 0.46002 29.9808 1.02539 29.9808H14.2758C14.3907 29.9808 14.5045 29.9338 14.5859 29.8527L16.5862 27.8613C16.6065 27.8656 16.6273 27.8691 16.6486 27.8705L20.0636 28.0989C20.6086 28.1349 21.1185 27.6916 21.1551 27.1442L22.8188 2.2703C22.8562 1.71202 22.4223 1.21602 21.8641 1.1787ZM14.7153 28.4776V25.4249C14.7153 25.3442 14.781 25.2784 14.8618 25.2784H17.9028L14.7153 28.4776ZM20.2781 27.0856C20.2638 27.1741 20.2119 27.2196 20.1223 27.222L17.4105 27.0406L19.271 25.1884C19.3539 25.1059 19.4005 24.9938 19.4005 24.8769V4.02577C19.4005 3.4604 18.9404 3.00038 18.3751 3.00038H13.8052C13.237 3.00038 13.237 3.87929 13.8052 3.87929H18.3751C18.4559 3.87929 18.5215 3.94503 18.5215 4.02577V24.3995H14.8618C14.2964 24.3995 13.8364 24.8595 13.8364 25.4249V29.1018H1.02539C0.944649 29.1018 0.878906 29.0361 0.878906 28.9554V4.02577C0.878906 3.94503 0.944649 3.87929 1.02539 3.87929H11.4649C12.0331 3.87929 12.0331 3.00038 11.4649 3.00038H4.20703L4.33852 1.03421C4.35281 0.945673 4.40479 0.900263 4.49443 0.89786L21.8054 2.05567C21.8939 2.06997 21.9394 2.12194 21.9418 2.21159L20.2781 27.0856Z" fill="white"/>
                  <path d="M15.693 13.8896H3.70752C3.46482 13.8896 3.26807 14.0864 3.26807 14.3291C3.26807 14.5718 3.46482 14.7686 3.70752 14.7686H15.693C15.9358 14.7686 16.1325 14.5718 16.1325 14.3291C16.1325 14.0864 15.9358 13.8896 15.693 13.8896Z" fill="white"/>
                  <path d="M15.693 16.9531H3.70752C3.46482 16.9531 3.26807 17.1499 3.26807 17.3926C3.26807 17.6353 3.46482 17.832 3.70752 17.832H15.693C15.9358 17.832 16.1325 17.6353 16.1325 17.3926C16.1325 17.1499 15.9358 16.9531 15.693 16.9531Z" fill="white"/>
                  <path d="M3.26807 11.2656C3.26807 11.5083 3.46482 11.7051 3.70752 11.7051H15.693C15.9358 11.7051 16.1325 11.5083 16.1325 11.2656C16.1325 11.0229 15.9358 10.8262 15.693 10.8262H3.70752C3.46482 10.8262 3.26807 11.0229 3.26807 11.2656Z" fill="white"/>
                  <path d="M5.37915 8.20215C5.37915 8.44484 5.57591 8.6416 5.8186 8.6416H13.5815C13.8242 8.6416 14.021 8.44484 14.021 8.20215C14.021 7.95945 13.8242 7.7627 13.5815 7.7627H5.8186C5.57591 7.7627 5.37915 7.95945 5.37915 8.20215Z" fill="white"/>
                  <path d="M11.4115 25.7099C10.6211 25.712 9.83077 25.7137 9.0404 25.715C8.77474 25.7154 8.50913 25.7157 8.24353 25.7159C7.76218 25.7163 7.43786 25.6196 7.33005 25.0902C7.23888 24.6425 6.6056 24.7027 6.48255 25.0902C6.17845 26.0474 5.67548 25.6724 5.39376 25.0285C5.11269 24.3861 5.04062 23.6672 4.91786 22.9836C4.82763 22.4812 4.0679 22.622 4.05466 23.1004C4.0372 23.7303 3.97837 24.3503 3.81847 24.9612C3.65353 25.5916 3.40632 26.1974 3.16093 26.7997C2.947 27.3247 3.79767 27.5506 4.00843 27.0333C4.22587 26.4997 4.4436 25.9631 4.60567 25.4095C4.90685 26.1337 5.52993 26.9528 6.4178 26.4701C6.58298 26.3802 6.73726 26.2526 6.87267 26.1037C7.33439 26.6372 8.02163 26.5952 8.6647 26.5944C9.58034 26.5932 10.496 26.5912 11.4116 26.5888C11.977 26.5874 11.9781 25.7085 11.4115 25.7099Z" fill="white"/>
                  <path d="M29.6445 14.4403C29.4162 14.2131 29.1022 14.0965 28.7835 14.0879L28.4514 14.0896V13.4615C28.4514 13.0789 28.2242 12.6748 27.8987 12.4735V11.5888C27.8987 9.7684 25.0644 9.77631 25.0644 11.5974V12.4822C24.7328 12.6871 24.5104 13.0529 24.5104 13.4696V14.1131C23.0475 14.2127 23.0433 16.4419 24.512 16.529C24.5214 18.4963 24.5209 20.4313 24.5104 22.4316C24.5075 22.9832 25.3863 23.0155 25.3893 22.4362C25.3998 20.4343 25.4003 18.4975 25.391 16.5286L27.5713 16.5178C27.5713 16.5178 27.5685 23.0128 27.5685 25.9387C27.5685 27.3647 25.3877 27.3742 25.3877 25.9239L25.3884 25.1225C25.4227 24.5553 24.5455 24.5024 24.5111 25.0695V25.8215C24.5111 26.466 24.7105 27.0119 25.0964 27.3959C25.1307 28.3154 25.5181 29.2051 26.1727 29.8542C26.3605 30.0405 26.6204 29.9836 26.8022 29.8436C27.4681 29.1765 27.8434 28.297 27.8668 27.3584C28.1569 27.0694 28.4473 26.7785 28.4473 25.7824L28.4477 21.7775C29.2077 21.9936 30.0001 21.4055 30.0001 20.6088V15.296C30.0001 14.9723 29.8738 14.6685 29.6445 14.4403ZM25.3893 14.1047V13.4695C25.3893 13.3395 25.4785 13.2305 25.5986 13.1981L27.3579 13.1893C27.4071 13.2015 27.4525 13.2248 27.4893 13.2615C27.5429 13.3148 27.5725 13.3859 27.5725 13.4615V14.094L25.3893 14.1047ZM26.4833 11.0579C26.753 11.0579 27.0197 11.3224 27.0197 11.5888V12.3017L25.9432 12.307V11.5974C25.9433 11.3013 26.1854 11.0593 26.4833 11.0579ZM26.4826 28.8646C26.2783 28.575 26.1305 28.2475 26.048 27.9033C26.1841 27.9328 26.3219 27.9481 26.4598 27.9481C26.6137 27.9481 26.7676 27.929 26.9191 27.892C26.8386 28.2415 26.691 28.571 26.4826 28.8646ZM29.1212 20.6088C29.1212 21.0248 28.4502 21.0576 28.4502 20.6164C28.4502 20.6164 28.4509 16.4578 28.4514 16.0766C28.4517 15.8307 28.2473 15.6366 28.0085 15.6366L24.5873 15.6536C24.163 15.6536 24.1729 14.9897 24.5916 14.9876L28.7878 14.9668C28.9907 14.9841 29.1018 15.0939 29.1211 15.296V20.6088H29.1212Z" fill="white"/>
                </g>
                <defs>
                  <clipPath id="clip0">
                    <rect width="30" height="30" fill="white"/>
                  </clipPath>
                </defs>
              </svg>
            </i>
            <span class="text">
              <span class="title">Портал-ЖКХ</span>
              <span class="desc">{{$t('logo')}}</span>
            </span>
          </nuxt-link>
        </div>

        <div class="menu">
          <nav>
            <ul>
              <li v-for="(item, index) in menu.content" :key="index"><nuxt-link :to="localePath(item.link)">{{$t(item.code)}}</nuxt-link></li>
            </ul>
          </nav>
        </div>

        <div class="header__info">
          <div class="lang">
            <nuxt-link :to="switchLocalePath('ru')">Рус</nuxt-link>
            <nuxt-link :to="switchLocalePath('ch')">Чăв</nuxt-link>
          </div>
          <div class="burger">
            <button @click="menu.modal = !menu.modal" :class="{ active : menu.modal }"><span></span></button>
          </div>
        </div>
      </div>
    </div>
    <v-dialog
      v-model="menu.modal"
      content-class="modalMenu"
      fullscreen
      hide-overlay
      transition="dialog-top-transition"
    >
      <div class="header white">
        <div class="wrapper">
          <div class="header__content">

            <div class="logo">
              <nuxt-link :to="localePath('/')">
                <i>
                  <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0)">
                      <path d="M21.8641 1.1787L4.55314 0.0208291C3.98883 -0.0165538 3.49939 0.411356 3.4616 0.975497L3.32619 3.00032H1.02539C0.46002 3.00032 0 3.46034 0 4.02571V28.9554C0 29.5207 0.46002 29.9808 1.02539 29.9808H14.2758C14.3907 29.9808 14.5045 29.9338 14.5859 29.8527L16.5862 27.8613C16.6065 27.8656 16.6273 27.8691 16.6486 27.8705L20.0636 28.0989C20.6086 28.1349 21.1185 27.6916 21.1551 27.1442L22.8188 2.2703C22.8562 1.71202 22.4223 1.21602 21.8641 1.1787ZM14.7153 28.4776V25.4249C14.7153 25.3442 14.781 25.2784 14.8618 25.2784H17.9028L14.7153 28.4776ZM20.2781 27.0856C20.2638 27.1741 20.2119 27.2196 20.1223 27.222L17.4105 27.0406L19.271 25.1884C19.3539 25.1059 19.4005 24.9938 19.4005 24.8769V4.02577C19.4005 3.4604 18.9404 3.00038 18.3751 3.00038H13.8052C13.237 3.00038 13.237 3.87929 13.8052 3.87929H18.3751C18.4559 3.87929 18.5215 3.94503 18.5215 4.02577V24.3995H14.8618C14.2964 24.3995 13.8364 24.8595 13.8364 25.4249V29.1018H1.02539C0.944649 29.1018 0.878906 29.0361 0.878906 28.9554V4.02577C0.878906 3.94503 0.944649 3.87929 1.02539 3.87929H11.4649C12.0331 3.87929 12.0331 3.00038 11.4649 3.00038H4.20703L4.33852 1.03421C4.35281 0.945673 4.40479 0.900263 4.49443 0.89786L21.8054 2.05567C21.8939 2.06997 21.9394 2.12194 21.9418 2.21159L20.2781 27.0856Z" fill="white"/>
                      <path d="M15.693 13.8896H3.70752C3.46482 13.8896 3.26807 14.0864 3.26807 14.3291C3.26807 14.5718 3.46482 14.7686 3.70752 14.7686H15.693C15.9358 14.7686 16.1325 14.5718 16.1325 14.3291C16.1325 14.0864 15.9358 13.8896 15.693 13.8896Z" fill="white"/>
                      <path d="M15.693 16.9531H3.70752C3.46482 16.9531 3.26807 17.1499 3.26807 17.3926C3.26807 17.6353 3.46482 17.832 3.70752 17.832H15.693C15.9358 17.832 16.1325 17.6353 16.1325 17.3926C16.1325 17.1499 15.9358 16.9531 15.693 16.9531Z" fill="white"/>
                      <path d="M3.26807 11.2656C3.26807 11.5083 3.46482 11.7051 3.70752 11.7051H15.693C15.9358 11.7051 16.1325 11.5083 16.1325 11.2656C16.1325 11.0229 15.9358 10.8262 15.693 10.8262H3.70752C3.46482 10.8262 3.26807 11.0229 3.26807 11.2656Z" fill="white"/>
                      <path d="M5.37915 8.20215C5.37915 8.44484 5.57591 8.6416 5.8186 8.6416H13.5815C13.8242 8.6416 14.021 8.44484 14.021 8.20215C14.021 7.95945 13.8242 7.7627 13.5815 7.7627H5.8186C5.57591 7.7627 5.37915 7.95945 5.37915 8.20215Z" fill="white"/>
                      <path d="M11.4115 25.7099C10.6211 25.712 9.83077 25.7137 9.0404 25.715C8.77474 25.7154 8.50913 25.7157 8.24353 25.7159C7.76218 25.7163 7.43786 25.6196 7.33005 25.0902C7.23888 24.6425 6.6056 24.7027 6.48255 25.0902C6.17845 26.0474 5.67548 25.6724 5.39376 25.0285C5.11269 24.3861 5.04062 23.6672 4.91786 22.9836C4.82763 22.4812 4.0679 22.622 4.05466 23.1004C4.0372 23.7303 3.97837 24.3503 3.81847 24.9612C3.65353 25.5916 3.40632 26.1974 3.16093 26.7997C2.947 27.3247 3.79767 27.5506 4.00843 27.0333C4.22587 26.4997 4.4436 25.9631 4.60567 25.4095C4.90685 26.1337 5.52993 26.9528 6.4178 26.4701C6.58298 26.3802 6.73726 26.2526 6.87267 26.1037C7.33439 26.6372 8.02163 26.5952 8.6647 26.5944C9.58034 26.5932 10.496 26.5912 11.4116 26.5888C11.977 26.5874 11.9781 25.7085 11.4115 25.7099Z" fill="white"/>
                      <path d="M29.6445 14.4403C29.4162 14.2131 29.1022 14.0965 28.7835 14.0879L28.4514 14.0896V13.4615C28.4514 13.0789 28.2242 12.6748 27.8987 12.4735V11.5888C27.8987 9.7684 25.0644 9.77631 25.0644 11.5974V12.4822C24.7328 12.6871 24.5104 13.0529 24.5104 13.4696V14.1131C23.0475 14.2127 23.0433 16.4419 24.512 16.529C24.5214 18.4963 24.5209 20.4313 24.5104 22.4316C24.5075 22.9832 25.3863 23.0155 25.3893 22.4362C25.3998 20.4343 25.4003 18.4975 25.391 16.5286L27.5713 16.5178C27.5713 16.5178 27.5685 23.0128 27.5685 25.9387C27.5685 27.3647 25.3877 27.3742 25.3877 25.9239L25.3884 25.1225C25.4227 24.5553 24.5455 24.5024 24.5111 25.0695V25.8215C24.5111 26.466 24.7105 27.0119 25.0964 27.3959C25.1307 28.3154 25.5181 29.2051 26.1727 29.8542C26.3605 30.0405 26.6204 29.9836 26.8022 29.8436C27.4681 29.1765 27.8434 28.297 27.8668 27.3584C28.1569 27.0694 28.4473 26.7785 28.4473 25.7824L28.4477 21.7775C29.2077 21.9936 30.0001 21.4055 30.0001 20.6088V15.296C30.0001 14.9723 29.8738 14.6685 29.6445 14.4403ZM25.3893 14.1047V13.4695C25.3893 13.3395 25.4785 13.2305 25.5986 13.1981L27.3579 13.1893C27.4071 13.2015 27.4525 13.2248 27.4893 13.2615C27.5429 13.3148 27.5725 13.3859 27.5725 13.4615V14.094L25.3893 14.1047ZM26.4833 11.0579C26.753 11.0579 27.0197 11.3224 27.0197 11.5888V12.3017L25.9432 12.307V11.5974C25.9433 11.3013 26.1854 11.0593 26.4833 11.0579ZM26.4826 28.8646C26.2783 28.575 26.1305 28.2475 26.048 27.9033C26.1841 27.9328 26.3219 27.9481 26.4598 27.9481C26.6137 27.9481 26.7676 27.929 26.9191 27.892C26.8386 28.2415 26.691 28.571 26.4826 28.8646ZM29.1212 20.6088C29.1212 21.0248 28.4502 21.0576 28.4502 20.6164C28.4502 20.6164 28.4509 16.4578 28.4514 16.0766C28.4517 15.8307 28.2473 15.6366 28.0085 15.6366L24.5873 15.6536C24.163 15.6536 24.1729 14.9897 24.5916 14.9876L28.7878 14.9668C28.9907 14.9841 29.1018 15.0939 29.1211 15.296V20.6088H29.1212Z" fill="white"/>
                    </g>
                    <defs>
                      <clipPath id="clip0">
                        <rect width="30" height="30" fill="white"/>
                      </clipPath>
                    </defs>
                  </svg>
                </i>
                <span class="text">
              <span class="title">Портал-ЖКХ</span>
              <span class="desc">{{$t('logo')}}</span>
            </span>
              </nuxt-link>
            </div>

            <div class="menu">
              <nav>
                <ul>
                  <li v-for="(item, index) in menu.content" :key="index"><nuxt-link :to="localePath(item.link)">{{$t(item.code)}}</nuxt-link></li>
                </ul>
              </nav>
            </div>

            <div class="header__info">
              <div class="lang">
                <nuxt-link :to="switchLocalePath('ru')">Рус</nuxt-link>
                <nuxt-link :to="switchLocalePath('ch')">Чăв</nuxt-link>
              </div>
              <div class="burger">
                <button @click="menu.modal = !menu.modal" :class="{ active : menu.modal }"><span></span></button>
              </div>
            </div>


          </div>
        </div>
      </div>
      <div class="wrapper">
        <v-list
        >
          <v-container>
            <v-row>
              <v-col cols="12" sm="6" md="6">
                <v-list-item>
                  <v-list-item-content>
                    <v-list-item-title>{{$t('lk')}}</v-list-item-title>
                    <ul>
                      <li><nuxt-link to="/jkh/">О нас</nuxt-link></li>
                      <li><nuxt-link to="/jkh/">Правила использования</nuxt-link></li>
                      <li><nuxt-link to="/jkh/">Как оплатить </nuxt-link></li>
                      <li><nuxt-link to="/jkh/">Контакты</nuxt-link></li>
                    </ul>
                    <div class="button">
                      <v-bth
                        color="white"
                        class="bthWhite"
                        button
                      >
                        {{$t('buttonPersonal')}}
                      </v-bth>
                    </div>
                  </v-list-item-content>
                </v-list-item>
              </v-col>
              <v-col cols="12" sm="6" md="6">
                <v-list-item>
                  <v-list-item-content>
                    <v-list-item-title>{{$t('epd')}}</v-list-item-title>
                    <ul>
                      <li><nuxt-link to="/epd/">О нас</nuxt-link></li>
                      <li><nuxt-link to="/epd/">Правила использования</nuxt-link></li>
                      <li><nuxt-link to="/epd/">Как оплатить</nuxt-link></li>
                      <li><nuxt-link to="/epd/">Контакты</nuxt-link></li>
                    </ul>
                    <div class="button">
                      <v-bth
                        color="white"
                        class="bthWhite"
                        button
                      >
                        {{$t('buttonPersonal')}}
                      </v-bth>
                    </div>
                  </v-list-item-content>
                </v-list-item>
              </v-col>
              <v-col cols="12" sm="6" md="6">
                <v-list-item>
                  <v-list-item-content>
                    <v-list-item-title>{{$t('portal')}}</v-list-item-title>
                    <ul>
                      <li><nuxt-link to="/portal/">О нас</nuxt-link></li>
                      <li><nuxt-link to="/portal/">Правила использования </nuxt-link></li>
                      <li><nuxt-link to="/portal/">Как оплатить</nuxt-link></li>
                      <li><nuxt-link to="/portal/">Контакты</nuxt-link></li>
                    </ul>
                  </v-list-item-content>
                </v-list-item>
              </v-col>
              <v-col cols="12" sm="6" md="6">
                <v-list-item>
                  <v-list-item-content>
                    <v-list-item-title>{{$t('report')}}</v-list-item-title>
                    <ul>
                      <li><nuxt-link to="/report-portal/">О нас</nuxt-link></li>
                      <li><nuxt-link to="/report-portal/">Правила использования </nuxt-link></li>
                      <li><nuxt-link to="/report-portal/">Как оплатить</nuxt-link></li>
                      <li><nuxt-link to="/report-portal/">Контакты</nuxt-link></li>
                    </ul>
                    <div class="button">
                      <v-bth
                        color="white"
                        class="bthWhite"
                        button
                      >
                        {{$t('buttonPersonal')}}
                      </v-bth>
                    </div>
                  </v-list-item-content>
                </v-list-item>
              </v-col>
            </v-row>
          </v-container>
        </v-list>
      </div>
    </v-dialog>
  </header>
</template>
<script>
  export default {
    props:['fixed', 'hiddenCircle'],
    data(){
      return{
        menu:{
          modal:false,
          content:[
            {
              title: '',
              code:'portal',
              link:'/portal/'
            },
            {
              title: '',
              code:'count',
              link:'/portal/send-counter/'
            },
            {
              title: '',
              code:'lk',
              link:'/jkh/'
            },
            {
              title: '',
              code:'epd',
              link:'/epd/'
            },
          ],
        },
        logoText:''
      }
    },
    methods:{
      handleScroll(){
       let scrollTop = document.documentElement.scrollTop
        if(scrollTop > 50){
          document.querySelector('.header').classList.add('active')
          return true;
        }

        document.querySelector('.header').classList.remove('active')
      }
    },
    beforeMount : function () {
      window.addEventListener('scroll', this.handleScroll);
    },
    destroyed: function () {
      window.removeEventListener('scroll', this.handleScroll);
    },
  }
</script>
<i18n>
  {
    "ru": {
      "logo": "Чувашская Республика",
      "lk": "Личный кабинет потребителя",
      "epd": "Личный кабинет поставщика",
      "portal": "Справочник",
      "count": "Показание счетчиков",
      "report": "Отчетный портал",
      "buttonPersonal": "Войти в кабинет"
    },
    "ch": {
      "logo": "Чӑваш Республики",
      "lk": "Харпăр кабинечĕ",
      "epd": "Пĕрлештернĕ тÿлев докуменчĕ",
      "portal": "Информаци порталĕ",
      "count": "Счетчик кăтартни",
      "report": "Отчетлă порталĕ",
      "buttonPersonal": "Кабинета кĕр"
    }
  }

</i18n>
<style scoped lang="scss">
  @import "header";
</style>
