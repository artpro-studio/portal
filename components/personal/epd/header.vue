<template>
  <div class="header">
    <div class="logo">
      <nuxt-link to="/personal">
        <svg
          version="1.1"
          id="Capa_1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          x="0px"
          y="0px"
          viewBox="0 0 449.6 449.6"
          style="enable-background:new 0 0 449.6 449.6;"
          xml:space="preserve"
        >
          <g>
            <g>
              <path
                d="M359.48,417.6V119.8c0.401-17.271-13.275-31.596-30.546-31.997c-0.045-0.001-0.089-0.002-0.134-0.003h-33.64V3.76
                                        c0.022-2.039-1.601-3.716-3.64-3.76H158.08c-2.039,0.044-3.662,1.721-3.64,3.76V88H120.8
                                        c-17.272,0.327-31.01,14.594-30.683,31.866c0.001,0.045,0.002,0.089,0.003,0.134v297.6c-0.401,17.271,13.275,31.596,30.546,31.997
                                        c0.045,0.001,0.089,0.002,0.134,0.003h208c17.272-0.327,31.01-14.594,30.683-31.866C359.482,417.689,359.481,417.645,359.48,417.6
                                        z M161.72,7.52h126.2v91.2c0.089,6.237-4.884,11.37-11.12,11.48h-104c-6.221-0.131-11.169-5.259-11.08-11.48V7.52z M352.2,417.44
                                        c0.135,13.117-10.286,23.913-23.4,24.24h-208c-13.13-0.327-23.557-11.147-23.4-24.28V119.8
                                        c-0.135-13.117,10.286-23.913,23.4-24.24h33.68v3.16c-0.179,10.309,8.012,18.821,18.32,19.04h104
                                        c10.324-0.197,18.538-8.716,18.36-19.04v-3.16h33.64c13.13,0.327,23.557,11.147,23.4,24.28V417.44z"
              />
            </g>
          </g>
          <g>
            <g>
              <path
                d="M317.24,133.56H132.36c-8.998,0.175-16.156,7.602-16,16.6v98.44c-0.156,8.998,7.002,16.425,16,16.6h184.88
                                        c8.998-0.175,16.156-7.602,16-16.6v-98.48C333.374,141.137,326.222,133.735,317.24,133.56z M325.96,150.16v98.44
                                        c0.089,4.903-3.814,8.951-8.717,9.04c-0.001,0-0.002,0-0.003,0H132.36c-4.903-0.088-8.808-4.134-8.72-9.037
                                        c0-0.001,0-0.002,0-0.003v-98.44c-0.089-4.903,3.814-8.951,8.717-9.04c0.001,0,0.002,0,0.003,0h184.88
                                        c4.904,0.088,8.808,4.134,8.72,9.037C325.96,150.158,325.96,150.159,325.96,150.16z"
              />
            </g>
          </g>
          <g>
            <g>
              <path
                d="M157.12,277.96c-0.013,0-0.027,0-0.04,0H124.8c-2.039,0.044-3.662,1.721-3.64,3.76v33.56
                                        c-0.022,2.039,1.601,3.716,3.64,3.76h32.36c2.039-0.044,3.662-1.721,3.64-3.76v-33.56
                                        C160.822,279.666,159.175,277.982,157.12,277.96z M153.48,311.52h-25.12v-26h25.12V311.52z"
              />
            </g>
          </g>
          <g>
            <g>
              <path
                d="M213.121,277.959c-0.04,0-0.081,0-0.121,0.001h-32.2c-2.039,0.044-3.662,1.721-3.64,3.76v33.56
                                        c-0.022,2.039,1.601,3.716,3.64,3.76h32.36c2.039-0.044,3.662-1.721,3.64-3.76v-33.56
                                        C216.823,279.666,215.175,277.982,213.121,277.959z M209.4,311.52h-25.12v-26h25.12V311.52z"
              />
            </g>
          </g>
          <g>
            <g>
              <path
                d="M268.8,277.96h-32.2c-2.039,0.044-3.662,1.721-3.64,3.76v33.56c-0.022,2.039,1.601,3.716,3.64,3.76h32.2
                                        c2.039-0.044,3.662-1.721,3.64-3.76v-33.56C272.462,279.681,270.839,278.004,268.8,277.96z M265.2,311.52h-25.12v-26h25.12V311.52
                                        z"
              />
            </g>
          </g>
          <g>
            <g>
              <path
                d="M324.8,277.96h-32.28c-2.039,0.044-3.662,1.721-3.64,3.76v33.56c-0.022,2.039,1.601,3.716,3.64,3.76h32.28
                                        c2.039-0.044,3.662-1.721,3.64-3.76v-33.56C328.462,279.681,326.839,278.004,324.8,277.96z M321.2,311.52h-25.12v-26h25.12V311.52
                                        z"
              />
            </g>
          </g>
          <g>
            <g>
              <path
                d="M157.12,331.88c-0.013,0-0.027,0-0.04,0H124.8c-2.039,0.044-3.662,1.721-3.64,3.76v33.56
                                        c-0.022,2.039,1.601,3.716,3.64,3.76h32.36c2.039-0.044,3.662-1.721,3.64-3.76v-33.56
                                        C160.822,333.586,159.175,331.902,157.12,331.88z M153.48,365.44h-25.12v-26h25.12V365.44z"
              />
            </g>
          </g>
          <g>
            <g>
              <path
                d="M213.121,331.879c-0.04,0-0.081,0-0.121,0.001h-32.2c-2.039,0.044-3.662,1.721-3.64,3.76v33.56
                                        c-0.022,2.039,1.601,3.716,3.64,3.76h32.36c2.039-0.044,3.662-1.721,3.64-3.76v-33.56
                                        C216.823,333.586,215.175,331.902,213.121,331.879z M209.4,365.44h-25.12v-26h25.12V365.44z"
              />
            </g>
          </g>
          <g>
            <g>
              <path
                d="M268.8,331.88h-32.2c-2.039,0.044-3.662,1.721-3.64,3.76v33.56c-0.022,2.039,1.601,3.716,3.64,3.76h32.2
                                        c2.039-0.044,3.662-1.721,3.64-3.76v-33.56C272.462,333.601,270.839,331.924,268.8,331.88z M265.2,365.44h-25.12v-26h25.12V365.44
                                        z"
              />
            </g>
          </g>
          <g>
            <g>
              <path
                d="M324.8,331.88h-32.28c-2.039,0.044-3.662,1.721-3.64,3.76v33.56c-0.022,2.039,1.601,3.716,3.64,3.76h32.28
                                        c2.039-0.044,3.662-1.721,3.64-3.76v-33.56C328.462,333.601,326.839,331.924,324.8,331.88z M321.2,365.44h-25.12v-26h25.12V365.44
                                        z"
              />
            </g>
          </g>
          <g>
            <g>
              <path
                d="M157.12,385.8c-0.013,0-0.027,0-0.04,0H124.8c-2.039,0.044-3.662,1.721-3.64,3.76v33.56
                                        c-0.022,2.039,1.601,3.716,3.64,3.76h32.36c2.039-0.044,3.662-1.721,3.64-3.76v-33.56
                                        C160.822,387.506,159.175,385.822,157.12,385.8z M153.48,419.36h-25.12v-26h25.12V419.36z"
              />
            </g>
          </g>
          <g>
            <g>
              <path
                d="M213.121,385.799c-0.04,0-0.081,0-0.121,0.001h-32.2c-2.039,0.044-3.662,1.721-3.64,3.76v33.56
                                        c-0.022,2.039,1.601,3.716,3.64,3.76h32.36c2.039-0.044,3.662-1.721,3.64-3.76v-33.56
                                        C216.823,387.506,215.175,385.822,213.121,385.799z M209.4,419.36h-25.12v-26h25.12V419.36z"
              />
            </g>
          </g>
          <g>
            <g>
              <path
                d="M268.8,385.8h-32.2c-2.039,0.044-3.662,1.721-3.64,3.76v33.56c-0.022,2.039,1.601,3.716,3.64,3.76h32.2
                                        c2.039-0.044,3.662-1.721,3.64-3.76v-33.56C272.462,387.521,270.839,385.844,268.8,385.8z M265.2,419.36h-25.12v-26h25.12V419.36z
                                        "
              />
            </g>
          </g>
          <g>
            <g>
              <path
                d="M324.8,385.8h-32.28c-2.039,0.044-3.662,1.721-3.64,3.76v33.56c-0.022,2.039,1.601,3.716,3.64,3.76h32.28
                                        c2.039-0.044,3.662-1.721,3.64-3.76v-33.56C328.462,387.521,326.839,385.844,324.8,385.8z M321.2,419.36h-25.12v-26h25.12V419.36z
                                        "
              />
            </g>
          </g>
          <g>
            <g>
              <path
                d="M273.04,19.32h-96.48c-2.088,0-3.78,1.692-3.78,3.78s1.692,3.78,3.78,3.78h96.48c2.088,0,3.78-1.692,3.78-3.78
                                        S275.128,19.32,273.04,19.32z"
              />
            </g>
          </g>
          <g>
            <g>
              <path
                d="M273.04,40h-96.48c-2.088,0-3.78,1.692-3.78,3.78s1.692,3.78,3.78,3.78h96.48c2.088,0,3.78-1.692,3.78-3.78
                                        S275.128,40,273.04,40z"
              />
            </g>
          </g>
          <g>
            <g>
              <path
                d="M273.04,60.72h-96.48c-2.088,0-3.78,1.692-3.78,3.78c0,2.088,1.692,3.78,3.78,3.78h96.48c2.088,0,3.78-1.692,3.78-3.78
                                        C276.82,62.412,275.128,60.72,273.04,60.72z"
              />
            </g>
          </g>
        </svg>
        <span>
          Объединенные
          <br />платежи
        </span>
      </nuxt-link>
    </div>
    <div class="menu">
      <nav>
        <ul>
          <nuxt-link
            v-for="item of menuTop"
            :key="item.id"
            tag="li"
            active-class="active"
            :to="item.url"
          >
            <a href="#">{{ item.title }}</a>
          </nuxt-link>
        </ul>
      </nav>
    </div>
    <div class="header_info">
      <div class="user">
        <div class="image" @click="modalTrue = !modalTrue">
          <img src="@/libs/img/user.png" alt v-if="!$store.state.auth.user.user_icon" />
          <img v-else :src="'http://45.67.57.180' + $store.state.auth.user.user_icon" alt />
        </div>
        <div class="user_info" @click="modalTrue = !modalTrue">
          <p v-if="$store.state.auth.user.last_name != ''">
            {{ $store.state.auth.user.last_name }}
            {{ $store.state.auth.user.first_name }}
            <svg
              version="1.1"
              id="Capa_1"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              x="0px"
              y="0px"
              viewBox="0 0 490.656 490.656"
              style="enable-background:new 0 0 490.656 490.656;"
              xml:space="preserve"
            >
              <g>
                <g>
                  <path
                    d="M487.536,120.445c-4.16-4.16-10.923-4.16-15.083,0L245.339,347.581L18.203,120.467c-4.16-4.16-10.923-4.16-15.083,0
                                        c-4.16,4.16-4.16,10.923,0,15.083l234.667,234.667c2.091,2.069,4.821,3.115,7.552,3.115s5.461-1.045,7.531-3.136l234.667-234.667
                                        C491.696,131.368,491.696,124.605,487.536,120.445z"
                  />
                </g>
              </g>
            </svg>
          </p>
          <p v-else>{{ $store.state.auth.user.email }}</p>
          <span>{{ $store.state.auth.user.organization }}</span>
        </div>
        <div class="more_user" :class="{ active: modalTrue }">
          <nav>
            <ul>
              <li>
                <a href="javascript:void(0);" @click="linkModal('/personal/profile/')">
                  <svg
                    width="12"
                    height="12"
                    viewBox="0 0 12 12"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M7.75001 9C7.61182 9 7.5 9.11182 7.5 9.25001V11C7.5 11.2756 7.27563 11.5 7.00001 11.5H1.00001C0.724383 11.5 0.500016 11.2756 0.500016 11V1.00001C0.500016 0.724383 0.724383 0.500016 1.00001 0.500016H7.00001C7.27563 0.500016 7.5 0.724383 7.5 1.00001V2.75002C7.5 2.8882 7.61182 3.00002 7.75001 3.00002C7.8882 3.00002 8.00002 2.8882 8.00002 2.75002V1.00001C7.99999 0.448477 7.55152 0 7.00001 0H1.00001C0.448477 0 0 0.448477 0 1.00001V11C0 11.5515 0.448477 12 1.00001 12H7.00001C7.55152 12 8.00002 11.5515 8.00002 11V9.24998C7.99999 9.11182 7.8882 9 7.75001 9Z"
                      fill="#ADAEAF"
                    />
                    <path
                      d="M11.919 5.81566L8.91895 3.06567C8.81665 2.97241 8.6592 2.97949 8.56568 3.08105C8.47242 3.18286 8.47924 3.34106 8.58105 3.43432L11.1074 5.74999H3.25001C3.11182 5.74999 3 5.86181 3 6C3 6.13819 3.11182 6.25001 3.25001 6.25001H11.1074L8.58108 8.56568C8.47927 8.65894 8.47245 8.81714 8.5657 8.91895C8.61502 8.97267 8.6824 9 8.75004 9C8.81034 9 8.87088 8.97827 8.91898 8.93433L11.919 6.18433C11.9707 6.13697 12 6.07008 12 6C12 5.92992 11.9707 5.86303 11.919 5.81566Z"
                      fill="#ADAEAF"
                    />
                  </svg>
                  <span>Профиль</span>
                </a>
              </li>
              <li>
                <a href="javascript:void(0);" @click="logout()">
                  <svg
                    width="12"
                    height="12"
                    viewBox="0 0 12 12"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <g clip-path="url(#clip0)">
                      <path
                        d="M0.0377658 1.10077L0.83807 2.50122C0.865065 2.54854 0.910249 2.58278 0.963087 2.59603L1.70973 2.78269L4.27056 5.34352L4.55351 5.06065L1.9526 2.45982C1.92701 2.43414 1.89491 2.41595 1.85977 2.40715L1.14234 2.22715L0.460963 1.0341L1.04514 0.449925L2.23869 1.13196L2.41876 1.84939C2.42749 1.88461 2.44576 1.91679 2.47135 1.94239L5.07226 4.5433L5.35513 4.26034L2.79431 1.69952L2.60764 0.953284C2.59439 0.900363 2.56016 0.855097 2.51283 0.82802L1.1123 0.027798C1.0342 -0.016645 0.935927 -0.0034767 0.872225 0.0599781L0.0720034 0.860282C0.00764325 0.923573 -0.00634808 1.02201 0.0377658 1.10077V1.10077Z"
                        fill="#ADAEAF"
                      />
                      <path
                        d="M8.35577 3.943L3.95434 8.34451L3.67139 8.06155L8.07289 3.66013L8.35577 3.943Z"
                        fill="#ADAEAF"
                      />
                      <path
                        d="M3.18385 8.50023C3.14764 8.43999 3.08262 8.4032 3.01233 8.4032H1.81196C1.74176 8.4032 1.67666 8.43999 1.64053 8.50023L1.0403 9.50053C1.00219 9.5639 1.00219 9.64316 1.0403 9.70661L1.64053 10.7069C1.67666 10.7671 1.74176 10.8039 1.81196 10.8039H3.01233C3.08262 10.8039 3.14764 10.7671 3.18385 10.7069L3.784 9.70661C3.8221 9.64316 3.8221 9.5639 3.784 9.50053L3.18385 8.50023ZM2.89917 10.4038H1.92521L1.44506 9.60357L1.92521 8.80327H2.89917L3.37932 9.60357L2.89917 10.4038Z"
                        fill="#ADAEAF"
                      />
                      <path
                        d="M9.61585 4.80199C10.9372 4.80643 12.0121 3.73881 12.0165 2.41745C12.0172 2.2163 11.9925 2.01598 11.943 1.82101C11.9164 1.71377 11.8078 1.6485 11.7006 1.67517C11.6653 1.68398 11.6332 1.70216 11.6076 1.72776L10.3622 2.97233L9.37405 2.64304L9.04451 1.65517L10.2899 0.40953C10.368 0.331343 10.3679 0.20468 10.2897 0.126576C10.264 0.100815 10.2316 0.0825443 10.1961 0.0738203C8.91464 -0.250696 7.61287 0.525 7.28835 1.80636C7.23905 2.00076 7.21445 2.20059 7.2151 2.40115C7.2156 2.55868 7.23181 2.71571 7.26375 2.86995L2.88224 7.25137C2.728 7.21952 2.57097 7.20331 2.41353 7.20273C1.08756 7.20273 0.0126953 8.2776 0.0126953 9.60356C0.0126953 10.9294 1.08756 12.0043 2.41353 12.0043C3.73941 12.0043 4.81427 10.9294 4.81427 9.60356C4.81378 9.44604 4.79748 9.28901 4.76563 9.13477L5.81457 8.08583L6.27332 8.54458C6.35151 8.62269 6.47809 8.62269 6.55628 8.54458L6.65627 8.44451C6.74401 8.35735 6.88581 8.35735 6.97355 8.44451C7.0612 8.53191 7.06136 8.6738 6.97396 8.76145C6.97388 8.76153 6.97371 8.7617 6.97355 8.76186L6.87355 8.86186C6.79545 8.93996 6.79545 9.06663 6.87355 9.14473L9.26014 11.5313C9.88786 12.1648 10.9102 12.1694 11.5437 11.5417C12.1771 10.914 12.1817 9.89154 11.554 9.25814C11.5506 9.25469 11.5472 9.25123 11.5437 9.24777L9.1571 6.86126C9.079 6.78316 8.95233 6.78316 8.87423 6.86126L8.77423 6.96126C8.68642 7.0485 8.54469 7.0485 8.45688 6.96126C8.36931 6.87386 8.36906 6.73197 8.45647 6.6444C8.45663 6.64423 8.45679 6.64415 8.45688 6.64399L8.55696 6.54391C8.63506 6.4658 8.63506 6.33914 8.55696 6.26103L8.09821 5.80228L9.14714 4.75335C9.30138 4.7852 9.45841 4.80149 9.61585 4.80199V4.80199ZM10.4019 11.6042C10.2566 11.604 10.1125 11.5777 9.97642 11.5266L11.5389 9.96405C11.7747 10.5913 11.4574 11.2908 10.8302 11.5266C10.6934 11.5781 10.5483 11.6044 10.4019 11.6042ZM8.13541 6.40449C7.91385 6.66876 7.94858 7.06266 8.21285 7.28413C8.44511 7.47877 8.78362 7.47861 9.01563 7.28355L11.2608 9.53073C11.2852 9.55517 11.308 9.58093 11.33 9.6071L9.61947 11.3177C9.59322 11.2957 9.56746 11.2729 9.54302 11.2485L7.29609 9.00136C7.51765 8.73709 7.48292 8.34319 7.21864 8.12172C6.98639 7.92699 6.6478 7.92724 6.41579 8.12221L6.09572 7.80214L7.81525 6.08516L8.13541 6.40449ZM8.94328 4.39229L4.40474 8.92992C4.35495 8.97963 4.33495 9.05181 4.3519 9.12004C4.62638 10.1979 3.97504 11.2943 2.89705 11.5687C1.81914 11.8432 0.722797 11.1918 0.44832 10.1138C0.173925 9.03593 0.825263 7.93958 1.90325 7.66511C2.22933 7.58215 2.57097 7.58215 2.89705 7.66511C2.96528 7.68181 3.03729 7.66181 3.08717 7.61235L7.62464 3.07463C7.67435 3.02492 7.69435 2.95274 7.67723 2.8846C7.40465 1.81928 8.04726 0.734705 9.11258 0.462039C9.31389 0.4106 9.52211 0.390847 9.72951 0.403769L8.67415 1.45954C8.62058 1.51303 8.60181 1.59229 8.62576 1.66414L9.02583 2.8646C9.04583 2.92427 9.09274 2.97118 9.15249 2.99101L10.3529 3.39117C10.4247 3.41512 10.504 3.39643 10.5576 3.34294L11.6129 2.28758C11.6153 2.32577 11.6165 2.36354 11.6165 2.40115C11.6221 3.50046 10.7356 4.39615 9.63626 4.40183C9.46631 4.40266 9.29693 4.38175 9.13233 4.33961C9.0641 4.32258 8.99192 4.34249 8.94221 4.3922H8.94328V4.39229Z"
                        fill="#ADAEAF"
                      />
                      <path
                        d="M10.3566 10.0622L10.0736 10.3452L8.073 8.3446L8.35587 8.06165L10.3566 10.0622Z"
                        fill="#ADAEAF"
                      />
                    </g>
                    <defs>
                      <clipPath id="clip0">
                        <rect width="12" height="12" fill="white" />
                      </clipPath>
                    </defs>
                  </svg>
                  <span>Выйти</span>
                </a>
              </li>
            </ul>
          </nav>
        </div>
      </div>
      <nuxt-link class="message icon" to="/personal/messages">
        <span class="icon_content">
          <svg
            version="1.1"
            id="Capa_1"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            x="0px"
            y="0px"
            height="550.795px"
            viewBox="0 0 550.795 550.795"
            style="enable-background:new 0 0 550.795 550.795;"
            xml:space="preserve"
          >
            <g>
              <g>
                <path
                  d="M501.613,491.782c12.381,0,23.109-4.088,32.229-12.16L377.793,323.567c-3.744,2.681-7.373,5.288-10.801,7.767
                                        c-11.678,8.604-21.156,15.318-28.434,20.129c-7.277,4.822-16.959,9.737-29.045,14.755c-12.094,5.024-23.361,7.528-33.813,7.528
                                        h-0.306h-0.306c-10.453,0-21.72-2.503-33.813-7.528c-12.093-5.018-21.775-9.933-29.045-14.755
                                        c-7.277-4.811-16.75-11.524-28.434-20.129c-3.256-2.387-6.867-5.006-10.771-7.809L16.946,479.622
                                        c9.119,8.072,19.854,12.16,32.234,12.16H501.613z"
                />
                <path
                  d="M31.047,225.299C19.37,217.514,9.015,208.598,0,198.555V435.98l137.541-137.541
                                        C110.025,279.229,74.572,254.877,31.047,225.299z"
                />
                <path
                  d="M520.059,225.299c-41.865,28.336-77.447,52.73-106.75,73.195l137.486,137.492V198.555
                                        C541.98,208.396,531.736,217.306,520.059,225.299z"
                />
                <path
                  d="M501.613,59.013H49.181c-15.784,0-27.919,5.33-36.42,15.979C4.253,85.646,0.006,98.97,0.006,114.949
                                        c0,12.907,5.636,26.892,16.903,41.959c11.267,15.061,23.256,26.891,35.961,35.496c6.965,4.921,27.969,19.523,63.012,43.801
                                        c18.917,13.109,35.368,24.535,49.505,34.395c12.05,8.396,22.442,15.667,31.022,21.701c0.985,0.691,2.534,1.799,4.59,3.269
                                        c2.215,1.591,5.018,3.61,8.476,6.107c6.659,4.816,12.191,8.709,16.597,11.683c4.4,2.975,9.731,6.298,15.985,9.988
                                        c6.249,3.685,12.143,6.456,17.675,8.299c5.533,1.842,10.655,2.766,15.367,2.766h0.306h0.306c4.711,0,9.834-0.924,15.368-2.766
                                        c5.531-1.843,11.42-4.608,17.674-8.299c6.248-3.69,11.572-7.02,15.986-9.988c4.406-2.974,9.938-6.866,16.598-11.683
                                        c3.451-2.497,6.254-4.517,8.469-6.102c2.057-1.476,3.605-2.577,4.596-3.274c6.684-4.651,17.1-11.892,31.104-21.616
                                        c25.482-17.705,63.01-43.764,112.742-78.281c14.957-10.447,27.453-23.054,37.496-37.803c10.025-14.749,15.051-30.22,15.051-46.408
                                        c0-13.525-4.873-25.098-14.598-34.737C526.461,63.829,514.932,59.013,501.613,59.013z"
                />
              </g>
            </g>
          </svg>
          <span>2</span>
        </span>
      </nuxt-link>
      <a class="chat icon">
        <span class="icon_content">
          <svg height="682pt" viewBox="-21 -47 682.66669 682" xmlns="http://www.w3.org/2000/svg">
            <path
              d="m552.011719-1.332031h-464.023438c-48.515625 0-87.988281 39.464843-87.988281 87.988281v283.972656c0 48.414063 39.300781 87.816406 87.675781 87.988282v128.863281l185.191407-128.863281h279.144531c48.515625 0 87.988281-39.472657 87.988281-87.988282v-283.972656c0-48.523438-39.472656-87.988281-87.988281-87.988281zm50.488281 371.960937c0 27.835938-22.648438 50.488282-50.488281 50.488282h-290.910157l-135.925781 94.585937v-94.585937h-37.1875c-27.839843 0-50.488281-22.652344-50.488281-50.488282v-283.972656c0-27.84375 22.648438-50.488281 50.488281-50.488281h464.023438c27.839843 0 50.488281 22.644531 50.488281 50.488281zm0 0"
            />
            <path d="m171.292969 131.171875h297.414062v37.5h-297.414062zm0 0" />
            <path d="m171.292969 211.171875h297.414062v37.5h-297.414062zm0 0" />
            <path d="m171.292969 291.171875h297.414062v37.5h-297.414062zm0 0" />
          </svg>
          <span>2</span>
        </span>
      </a>
      <a class="chat icon">
        <div class="push" @click="pushModalTrue = !pushModalTrue">
          <span class="icon_content">
            <svg
              version="1.1"
              id="Capa_1"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              x="0px"
              y="0px"
              viewBox="0 0 346.013 346.013"
              style="enable-background:new 0 0 346.013 346.013;"
              xml:space="preserve"
            >
              <g>
                <path
                  d="M261.752,242.918c-2.429-2.128-4.723-4.138-5.832-6.133c-0.088-0.161-0.184-0.324-0.32-0.549
                                    c-4.244-6.792-5.837-23.742-6.788-33.866c-0.142-1.521-0.279-2.975-0.416-4.336c-0.014-0.138-0.03-0.274-0.058-0.482
                                    c-2.181-15.25-7.596-37.241-21.01-55.398c-9.281-12.563-20.811-21.047-34.316-25.263c-1.391-9.796-9.832-17.353-20.006-17.353
                                    c-10.174,0-18.617,7.559-20.006,17.355c-13.504,4.213-25.035,12.697-34.316,25.262c-13.414,18.154-18.83,40.146-21.01,55.396
                                    l-0.016,0.122c-0.017,0.131-0.032,0.259-0.04,0.353c-0.138,1.369-0.275,2.82-0.417,4.34c-0.952,10.129-2.545,27.082-6.828,33.934
                                    c-0.076,0.125-0.147,0.25-0.255,0.438c-1.134,2.041-3.428,4.053-5.855,6.182c-5.969,5.23-18.388,16.116-8.156,35.115
                                    c1.979,3.677,5.804,5.961,9.98,5.961h173.839c4.173,0,7.996-2.283,9.979-5.96C280.135,259.04,267.721,248.153,261.752,242.918z"
                />
                <path
                  d="M192.752,302.979h-40.214c-1.652,0-3.205,0.723-4.262,1.981c-1.982,2.362-1.427,5.51-1.096,7.39l0.026,0.151
                                    c2.188,12.541,13.028,21.644,25.776,21.644c12.984,0,24.125-9.685,25.912-22.511l0.039-0.21c0.221-1.165,0.737-3.892-1.189-6.219
                                    C197.055,304.374,195.491,302.979,192.752,302.979z"
                />
                <path
                  d="M101.631,24.448c-1.338-8.176-9.046-13.723-17.227-12.379C61.8,15.77,40.925,27.203,25.623,44.26
                                    C10.266,61.382,1.415,82.568,0.028,105.529c-0.5,8.269,5.799,15.378,14.068,15.877c0.308,0.019,0.614,0.028,0.918,0.028
                                    c7.871,0,14.478-6.135,14.958-14.097c0.975-16.132,7.193-31.017,17.982-43.045c10.907-12.159,25.187-19.98,41.296-22.618
                                    C97.428,40.335,102.97,32.623,101.631,24.448z"
                />
                <path
                  d="M83.133,128.277c0.519-8.591,3.831-16.518,9.576-22.924c5.809-6.475,13.414-10.64,21.993-12.045
                                    c8.175-1.339,13.718-9.051,12.379-17.227c-1.338-8.175-9.045-13.723-17.227-12.379c-15.182,2.485-29.202,10.163-39.478,21.619
                                    c-10.167,11.334-16.271,25.946-17.189,41.146c-0.5,8.269,5.799,15.378,14.068,15.877c0.308,0.019,0.613,0.028,0.918,0.028
                                    C76.044,142.373,82.652,136.238,83.133,128.277z"
                />
                <path
                  d="M345.985,105.529c-1.387-22.961-10.238-44.147-25.596-61.27c-15.301-17.057-36.176-28.489-58.78-32.19
                                    c-8.172-1.346-15.889,4.203-17.227,12.379c-1.339,8.175,4.203,15.888,12.379,17.227c16.109,2.639,30.39,10.459,41.296,22.617
                                    c10.79,12.029,17.008,26.914,17.982,43.046c0.48,7.962,7.087,14.097,14.959,14.097c0.304,0,0.61-0.01,0.918-0.028
                                    C340.186,120.907,346.485,113.797,345.985,105.529z"
                />
                <path
                  d="M275.636,85.321c-10.276-11.455-24.297-19.133-39.479-21.618c-8.179-1.344-15.888,4.203-17.227,12.379
                                    s4.204,15.889,12.379,17.227c8.58,1.405,16.186,5.57,21.994,12.045c5.746,6.406,9.057,14.333,9.575,22.923
                                    c0.48,7.962,7.087,14.097,14.959,14.097c0.304,0,0.609-0.009,0.917-0.027c8.27-0.499,14.568-7.606,14.069-15.876
                                    C291.908,111.27,285.803,96.657,275.636,85.321z"
                />
              </g>
            </svg>
            <span>{{ countPush }}</span>
          </span>
        </div>
        <div class="pushModal" :class="{ active: pushModalTrue }">
          <div class="pushModal_top">
            <h4>Список уведомлений</h4>
            <div class="close" @click="pushModalTrue = !pushModalTrue">
              <span></span>
            </div>
          </div>
          <div class="pushModal_contanet">
            <div class="item info" :key="item.id" v-for="item in $store.state.auth.push">
              <div class="close">
                <span></span>
              </div>
              <img src="@/libs/img/ninfo.svg" v-if="item.type == 'info'" />
              <img src="@/libs/img/close.svg" v-if="item.type == 'error'" />
              <img src="@/libs/img/chek.svg" v-if="item.type == 'success'" />
              <div class="text">
                <h5>{{ item.text }}</h5>
                <p>
                  {{ item.title }}
                  <span class="blue" v-if="item.type == 'info'">(Уведомление)</span>
                  <span class="error" v-if="item.type == 'error'">(Ошибка)</span>
                  <span class="green" v-if="item.type == 'success'">(Успех)</span>
                </p>
              </div>
              <div class="delete_item">
                <span></span>
              </div>
            </div>
          </div>
        </div>
      </a>
    </div>
    <div class="bg_popup" @click="modalTrue = !modalTrue" v-if="modalTrue"></div>
    <div class="bg_popup" @click="pushModalTrue = !pushModalTrue" v-if="pushModalTrue"></div>
  </div>
</template>

<script>
export default {
  data: () => ({
    modalTrue: false,
    pushModalTrue: false,
    countPush: null,
    menuTop: [
      {
        id: 1,
        title: "На главную",
        url: "/"
      },
      {
        id: 2,
        title: "На JkhPay",
        url: "/"
      },
      {
        id: 3,
        title: "О сервисе",
        url: "/"
      },
      {
        id: 4,
        title: "Поддержка",
        url: "/"
      },
      {
        id: 5,
        title: "Контакты",
        url: "/"
      }
    ],
    user: null
  }),
  methods: {
    async logout() {
      this.modalTrue = false;
      await this.$store.dispatch("auth/logout");
      location.reload();
    },
    linkModal(link) {
      this.$router.push(link);
      this.modalTrue = false;
    },
    handleScroll(){
      console.log('asdasd')
    }
  },
  beforeMount : function () {
    window.addEventListener('scroll', this.handleScroll);
  },
  mounted() {
    let countPush = 0;
    for (let i = 0; i < this.$store.state.auth.push.length; i++) {
      if (!this.$store.state.auth.push[i]["isRead"]) {
        countPush++;
      }
    }
    this.countPush = countPush;
  },
  destroyed: function () {
    window.removeEventListener('scroll', this.handleScroll);
  },

};
</script>

<style lang="scss" scoped>
.lk_page .header .header_info .user .image {
  display: flex;
  overflow: hidden;
  justify-content: center;
  img {
    height: 100%;
  }
}
.bg_popup {
  background-color: rgba(0, 0, 0, 0);
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 10;
}
.user {
  position: relative;
  cursor: pointer;
  .user_info {
    p {
      svg {
        width: 7px;
        position: relative;
        top: -1px;
      }
    }
  }
  .more_user {
    position: absolute;
    top: -400px;
    left: 0;
    z-index: 12;
    background: #ffffff;
    box-shadow: 0px 0px 11px rgba(0, 0, 0, 0.09);
    border-radius: 7px;
    width: 100%;
    transition: 0.4s all;
    &.active {
      top: 55px;
    }
    nav {
      ul {
        list-style-type: none;
        li {
          display: block;
          border-bottom: 1px solid #ebecee;
          a {
            display: flex;
            align-items: center;
            padding: 11px 15px;
            font-style: normal;
            font-weight: normal;
            font-size: 12px;
            line-height: 14px;
            color: #adaeaf;
            transition: 0.4s all;
            svg {
              path {
                transition: 0.4s all;
              }
            }
            span {
              display: inline-block;
              margin-left: 7px;
            }
            &:hover {
              color: #0084fe;
              svg {
                fill: #0084fe !important;
                path {
                  fill: #0084fe !important;
                }
              }
            }
          }
        }
      }
    }
  }
}
.push {
  position: relative;
  display: flex;
  width: 100%;
  height: 100%;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}
.pushModal {
  display: none;
  position: absolute;
  top: 30px;
  right: 10px;
  background: #fafcff;
  box-shadow: 0px 0px 30px rgba(51, 51, 51, 0.1);
  border-radius: 5px;
  width: 330px;
  z-index: 12;
  font-style: normal;
  font-weight: bold;
  font-size: 16px;
  line-height: 132.9%;
  color: #c4c4c4;
  &.active {
    display: block;
  }
  .pushModal_top {
    padding: 12px 19px;
    padding-right: 10px;
    border-bottom: 1px #e1efff solid;
    display: flex;
    align-items: center;
    justify-content: space-between;
    h4 {
      font-weight: bold;
      font-size: 16px;
      line-height: 132.9%;
      color: #c4c4c4;
    }
    .close {
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      span {
        display: block;
        width: 17px;
        height: 1px;
        background-color: #b7b7b7;
        transform: rotate(45deg);
        position: relative;
        &:before {
          content: "";
          width: 17px;
          height: 1px;
          background-color: #b7b7b7;
          transform: rotate(-85deg);
          position: absolute;
          top: 0;
          left: 0;
        }
      }
    }
  }
  .item {
    display: flex;
    align-items: center;
    padding: 18px 25px;
    border-bottom: 1px #e1efff solid;
    position: relative;
    .close {
      position: absolute;
      top: 10px;
      right: 18px;
      width: 10px;
      height: 10px;
      display: flex;
      justify-content: center;
      align-items: center;
      span {
        display: block;
        background-color: #adaeaf;
        width: 10px;
        height: 1px;
        transform: rotate(45deg);
        position: relative;
        &:before {
          content: "";
          background-color: #adaeaf;
          width: 10px;
          height: 1px;
          position: absolute;
          top: 0;
          left: 0;
          transform: rotate(-85deg);
        }
      }
    }
    img {
      height: 20px;
      margin-right: 14px;
      margin-left: -5px;
    }
    .text {
      h5 {
        font-weight: normal;
        font-size: 16px;
        line-height: 14px;
        color: #adaeaf;
        margin-bottom: 3px;
      }
      p {
        font-weight: 300;
        font-size: 12px;
        line-height: 12px;
        color: #adaeaf;
        .error {
          color: #f78c8c;
        }
        .green {
          color: #83ce70;
        }
        .blue {
          color: #0079fe;
        }
      }
    }
    &:nth-child(1) {
      img {
        height: 29px;
        margin-right: 14px;
        margin-left: 0;
      }
    }
  }
}
@media screen and (max-width: 1100px) {
  .lk_page .header .header_info .user .user_info span {
    display: none;
  }
}
@media screen and (max-width: 650px) {
  .pushModal {
    width: 280px;
    .pushModal_top {
      padding: 6px 12px;
      h4 {
        font-size: 14px;
      }
      .close {
        span {
          width: 15px;
          &:before {
            width: 15px;
          }
        }
      }
    }
    .item {
      padding: 9px 12px;
      .text {
        h5 {
          font-size: 12px;
          margin-bottom: 1px;
        }
        p {
          font-size: 10px;
        }
      }
      img {
        height: 20px;
      }
    }
  }
}
</style>
